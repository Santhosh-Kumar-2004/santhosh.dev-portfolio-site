/* ---------- BACKGROUND WRAPPER ---------- */
.app-background {
  position: fixed;
  inset: 0;
  z-index: -1;
  background-color: var(--bg-main);
  overflow: hidden;
  transition: background-color 0.5s ease;
}

/* Light Mode specific adjustments for the base color if variables aren't set */
[data-theme='light'] {
  --grid-line: rgba(0, 0, 0, 0.06);
  --neon-opacity: 0.3;
  --orb-opacity: 0.03;
}

[data-theme='dark'] {
  --grid-line: rgba(255, 255, 255, 0.04);
  --neon-opacity: 0.7;
  --orb-opacity: 0.08;
}

/* ---------- VIGNETTE (Dynamic Depth) ---------- */
.vignette-overlay {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at center, 
    transparent 10%, 
    var(--bg-main) 100%
  );
  z-index: 1;
  pointer-events: none;
}

/* ---------- IMPROVED GRID LAYER ---------- */
.grid-layer {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, var(--grid-line) 1px, transparent 1px),
    linear-gradient(to bottom, var(--grid-line) 1px, transparent 1px);
  background-size: 60px 60px;
  /* Masking creates a "fading out" effect toward the edges */
  mask-image: radial-gradient(circle at center, black 30%, transparent 90%);
  -webkit-mask-image: radial-gradient(circle at center, black 30%, transparent 90%);
}

/* ---------- ENHANCED NEON FLOWS ---------- */
.neon-line {
  position: absolute;
  opacity: var(--neon-opacity);
  pointer-events: none;
  z-index: 2;
  border-radius: 100px;
}

.neon-line.vertical {
  width: 2px;
  height: 250px;
  background: linear-gradient(
    to bottom, 
    transparent, 
    var(--accent-primary), 
    var(--accent-primary), 
    transparent
  );
  filter: blur(1px) drop-shadow(0 0 12px var(--accent-primary));
  animation: flow-vertical linear infinite;
}

.neon-line.horizontal {
  height: 2px;
  width: 250px;
  background: linear-gradient(
    to right, 
    transparent, 
    var(--accent-primary), 
    var(--accent-primary), 
    transparent
  );
  filter: blur(1px) drop-shadow(0 0 12px var(--accent-primary));
  animation: flow-horizontal linear infinite;
}

/* ---------- STAGGERED MOTION PATHS ---------- */
.v1 { left: 10%; animation-duration: 7s; }
.v2 { left: 35%; animation-duration: 10s; animation-delay: -2s; }
.v3 { left: 60%; animation-duration: 8s; animation-delay: -5s; }
.v4 { left: 88%; animation-duration: 12s; }

.h1 { top: 20%; animation-duration: 9s; animation-delay: -1s; }
.h2 { top: 50%; animation-duration: 11s; }
.h3 { top: 85%; animation-duration: 7s; animation-delay: -4s; }

/* ---------- AMBIENT DEPTH ORBS ---------- */
.ambient-orb {
  position: absolute;
  border-radius: 50%;
  background: var(--accent-primary);
  filter: blur(140px);
  opacity: var(--orb-opacity);
  z-index: 0;
  animation: pulse-orb 12s ease-in-out infinite alternate;
}

.orb-1 { width: 500px; height: 500px; top: -150px; left: -100px; }
.orb-2 { width: 700px; height: 700px; bottom: -250px; right: -150px; animation-delay: -2s; }

/* ---------- KEYFRAMES ---------- */
@keyframes flow-vertical {
  0% { transform: translateY(-300px); }
  100% { transform: translateY(110vh); }
}

@keyframes flow-horizontal {
  0% { transform: translateX(-300px); }
  100% { transform: translateX(110vw); }
}

@keyframes pulse-orb {
  from { transform: scale(1) translate(0, 0); }
  to { transform: scale(1.15) translate(30px, 20px); }
}